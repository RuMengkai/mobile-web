webpackJsonp([41,0],{0:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=o(1),a=n(i),s=o(625),r=n(s),c=o(28),u=n(c);a.default.use(u.default),new a.default({el:"#addcomment",template:"<App/>",components:{App:r.default}})},2:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(1);n(i);e.default={ajaxPost:function(t,e,o,n){$.ajax({url:t,type:"POST",data:e,success:function(t){o(t)},error:function(t){n(t)}})},ajaxGet:function(){},httpPost:function(t,e,o,n,i){t.http.options.emulateJSON=!0,t.http.options.headers={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},t.http.interceptors.push(function(t,e){t.headers.set("from",config().from),t.headers.set("gid",config().gid),t.headers.set("token",config().token),t.headers.set("version",VERSION),e()}),t.http.post(e,o).then(function(t){return t.bodyText}).then(function(t){var t=JSON.parse(t);n(t)},function(t){i(t)||console.log(t)})},httpGet:function(t,e,o,n,i){t.http.options.emulateJSON=!0,t.http.options.headers={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},t.http.interceptors.push(function(t,e){t.headers.set("from",config().from),t.headers.set("gid",config().gid),t.headers.set("token",config().token),t.headers.set("version",VERSION),e()}),t.http.get(e,{params:o}).then(function(t){return t.bodyText}).then(function(t){var t=JSON.parse(t);n(t)},function(t){i(t)||console.log(t)})}}},5:function(t,e,o){"use strict";!function(){var t=document.documentElement.clientWidth||document.body.clientWidth;t=t>640?640:t;var e=t/750*100;e=e<60?e:60,document.documentElement.style.fontSize=e+"px",t<350?window.phonetype="small":window.phonetype="large"}(),document.write('<script src="https://s19.cnzz.com/z_stat.php?id=1262435637&web_id=1262435637" language="JavaScript"></script>'),document.write('<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js" charset="utf-8"></script>'),window.base="pro","pro"==base?(window.VERSION="0.1",window.HOST="http://api.51xy8.com",window.HOSTM="http://m.51xy8.com",window.HOSTA="http://api.51xy8.com",window.appid="wx05e842991e5fa0b2",localStorage.setItem("from","3"),window.config=function(){return{paytype:"JSAPI",from:localStorage.getItem("from"),gid:localStorage.getItem("gid"),token:localStorage.getItem("token")}}):(window.VERSION="0.1",window.HOST="http://123.57.35.40",window.HOSTM="http://dev.51xy8.com",window.HOSTA="http://123.57.35.40",window.appid="wx0a542ef9d4d41cef",localStorage.setItem("from","3"),localStorage.setItem("gid","1047501566"),localStorage.setItem("token","97b416d0fe144c8aacfae881ad291add"),window.config=function(){return{paytype:"JSAPI",from:localStorage.getItem("from"),gid:localStorage.getItem("gid"),token:localStorage.getItem("token")}}),window.shareData={title:"功夫财经",link:HOSTM+"/m/home.html",imgUrl:"http://m.51xy8.com/static/img_h5/h5_logo.png",desc:"功夫财经致力于联动最出色的财经学者，提供最优质的原创内容，打造中国规模最大的、粘性最高的财富命运共同体，以新型金融服务平台为终极己任，解决中产焦虑，提升国民财商。 "};var n=o(38);n.attach(document.body),window.getAuthLink=function(t){return"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+appid+"&redirect_uri="+HOSTA+"%2Fapi%2Fsession%2Fauth_weixin&response_type=code&scope=snsapi_userinfo&state="+t+"#wechat_redirect"},window.getAuth=function(t,e,o,n){var i=t.get("gid"),a=e.parse();if(!localStorage.getItem("gid")||""==localStorage.getItem("gid"))if("undefined"!=typeof a.gid)localStorage.setItem("gid",a.gid),localStorage.setItem("token",a.token);else if("undefined"!=typeof i)localStorage.setItem("gid",t.get("gid")),localStorage.setItem("token",t.get("token"));else{var s;s=void 0!=n&&""!=n?o+"_"+n:o,s=s?s:"",window.location.href=getAuthLink(s)}},window.clearcookie=function(t){localStorage.clear(),t.set("gid",0,{domain:".51xy8.com",path:"/",expires:-1}),t.set("token",0,{domain:".51xy8.com",path:"/",expires:-1})}},8:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(40),a=n(i);e.default={mixins:[a.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}},10:function(t,e){},11:function(t,e){},13:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vux-toast"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),o("transition",{attrs:{name:t.currentTransition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[o("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?o("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):o("p",{staticClass:"weui-toast__content"},[t._t("default")],2)])])],1)},staticRenderFns:[]}},37:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getUrlKey:function(t){if("type"==t){var e=decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||["",""])[1].replace(/\+/g,"%20"))||null;return e}if("code"==t){var e=decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||["",""])[1].replace(/\+/g,"%20"))||null;return e}if("id"==t){var e=decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||["",""])[1].replace(/\+/g,"%20"))||/\/\d{1,8}/.exec(location.href)[0].replace("/","")||null;return e}}}},39:function(t,e,o){var n,i;o(10),n=o(8);var a=o(13);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,t.exports=n},46:function(t,e){},82:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean},computed:{classes:function(){return[{"weui-btn_disabled":this.disabled,"weui-btn_mini":this.mini},"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}},83:function(t,e){},84:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"weui-btn",class:t.classes,attrs:{disabled:t.disabled,type:t.actionType}},[t.showLoading?o("i",{staticClass:"weui-loading"}):t._e(),t._t("default",[t._v(t._s(t.text))])],2)},staticRenderFns:[]}},85:function(t,e,o){var n,i;o(83),n=o(82);var a=o(84);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,t.exports=n},300:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{gap:String}}},337:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),o(11),o(5);var i=o(37),a=n(i),s=o(2),r=n(s),c=o(1),u=n(c),d=o(85),l=n(d),p=o(588),f=n(p),h=o(39),m=(n(h),o(30)),w=n(m);u.default.use(w.default),u.default.prototype.$geturlpara=a.default,e.default={name:"addcomment",mounted:function(){var t=this.$geturlpara.getUrlKey("name"),e=this.$geturlpara.getUrlKey("id");this.name=t,this.id=e},data:function(){return{textdata:"",placeholder:"写下您想说的话",name:"",sub:!0,id:0,writeAble:!0}},components:{XButton:l.default,Box:f.default},created:function(){localStorage.getItem("gid")||this.$vux.toast.show({text:"请前往注册页面",width:"11em"})},methods:{submit:function(){var t=this;this.sub=!1;var e=this;this.writeAble=!1,r.default.httpPost(u.default,HOST+"/api/comments/add",{from:3,gid:localStorage.getItem("gid"),token:localStorage.getItem("token"),item:e.id,content:e.textdata,origin_comment:""},function(o){e.sub=!0,0!=o.status?(console.log("err"),e.$vux.toast.show({text:o.error,type:"warn",width:"10em"}),clearcookie(cookie),getAuth(cookie,querystring)):e.$vux.toast.show({text:"评论成功"}),setTimeout(function(){window.location.href="/m/detail.html?id="+t.id},2e3)},function(t){e.sub=!0,console.log(t),e.$vux.toast.show({text:"评论失败，请稍后重试",type:"warn"})})}},filters:{}}},432:function(t,e){},527:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"addcomment"}},[o("div",{staticClass:"content"},[o("div",{staticClass:"title"},[o("p",[t._v(t._s(t.name))])]),t._v(" "),o("div",{staticClass:"comcontent"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textdata,expression:"textdata"}],staticClass:"weui-textarea",attrs:{autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:t.placeholder},domProps:{value:t.textdata},on:{input:function(e){e.target.composing||(t.textdata=e.target.value)}}})]),t._v(" "),o("box",{attrs:{gap:"20px 20px"}},[t.sub?o("div",[o("x-button",{attrs:{type:"primary",disabled:!t.textdata||!t.writeAble},nativeOn:{click:function(e){t.submit(e)}}},[t._v("提交")])],1):o("div",[o("x-button",{attrs:{type:"primary",disabled:"","show-loading":""},nativeOn:{click:function(e){t.submit(e)}}},[t._v("正在提交")])],1)])],1)])},staticRenderFns:[]}},537:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:{margin:t.gap}},[t._t("default")],2)},staticRenderFns:[]}},588:function(t,e,o){var n,i;n=o(300);var a=o(537);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,t.exports=n},625:function(t,e,o){var n,i;o(432),n=o(337);var a=o(527);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,t.exports=n}});