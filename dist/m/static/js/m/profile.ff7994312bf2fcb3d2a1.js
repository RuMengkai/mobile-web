webpackJsonp([29,0],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(1),s=o(i),a=n(533),r=o(a),l=n(10),c=o(l);s.default.use(c.default),new s.default({el:"#profile",template:"<App/>",components:{App:r.default}})},2:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);o(i);t.default={ajaxPost:function(e,t,n,o){$.ajax({url:e,type:"POST",data:t,success:function(e){n(e)},error:function(e){o(e)}})},ajaxGet:function(){},httpPost:function(e,t,n,o,i){e.http.options.emulateJSON=!0,e.http.options.headers={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},e.http.interceptors.push(function(e,t){e.headers.set("from",config().from),e.headers.set("gid",config().gid),e.headers.set("token",config().token),e.headers.set("version",VERSION),t()}),e.http.post(t,n).then(function(e){return e.bodyText}).then(function(e){var e=JSON.parse(e);o(e)},function(e){i(e)||console.log(e)})},httpGet:function(e,t,n,o,i){e.http.options.emulateJSON=!0,e.http.options.headers={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},e.http.interceptors.push(function(e,t){e.headers.set("from",config().from),e.headers.set("gid",config().gid),e.headers.set("token",config().token),e.headers.set("version",VERSION),t()}),e.http.get(t,{params:n}).then(function(e){return e.bodyText}).then(function(e){var e=JSON.parse(e);o(e)},function(e){i(e)||console.log(e)})}}},3:function(e,t){},4:function(e,t,n){"use strict";!function(){var e=document.documentElement.clientWidth||document.body.clientWidth;e=e>640?640:e;var t=e/750*100;t=t<50?t:50,document.documentElement.style.fontSize=t+"px",e<350?window.phonetype="small":window.phonetype="large"}(),window.base="dev","pro"==base?(window.VERSION="0.1",window.HOST="https://api.kofuf.com",window.HOSTM="https://m.kofuf.com",window.HOSTA="https://api.kofuf.com",window.appid="wx05e842991e5fa0b2",window.config=function(){return{paytype:"JSAPI",from:"3",gid:localStorage.getItem("gid"),token:localStorage.getItem("token")}}):(window.VERSION="0.1",window.HOST="http://dev.kofuf.com",window.HOSTM="http://dev.kofuf.com",window.HOSTA="http://dev.kofuf.com",window.appid="wx0a542ef9d4d41cef",window.config=function(){return{paytype:"JSAPI",from:"3",gid:"1047501566",token:"f32cd7de15144e2b931214730e6ed9f4"}}),window.shareData={title:"功夫财经",link:HOSTM+"/m/home.html",imgUrl:"http://m.kofuf.com/static/img_h5/h5_logo.png",desc:"功夫财经致力于联动最出色的财经学者，提供最优质的原创内容，打造中国规模最大的、粘性最高的财富命运共同体，以新型金融服务平台为终极己任，解决中产焦虑，提升国民财商。 "};var o=n(30);o.attach(document.body),window.getAuthLink=function(e){return"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+appid+"&redirect_uri="+HOSTA+"%2Fapi%2Fsession%2Fauth_weixin&response_type=code&scope=snsapi_userinfo&state="+e+"#wechat_redirect"},window.getAuth=function(e,t,n,o){var i=e.get("gid"),s=t.parse();if(!localStorage.getItem("gid")||""==localStorage.getItem("gid"))if("undefined"!=typeof s.gid)localStorage.setItem("gid",s.gid),localStorage.setItem("token",s.token);else if("undefined"!=typeof i)localStorage.setItem("gid",e.get("gid")),localStorage.setItem("token",e.get("token"));else{var a;a=void 0!=o&&""!=o?n+"_"+o:n,a=a?a:"",window.location.href=getAuthLink(a)}},window.clearcookie=function(e){localStorage.clear(),e.set("gid",0,{domain:".kofuf.com",path:"/",expires:-1}),e.set("token",0,{domain:".kofuf.com",path:"/",expires:-1})}},5:function(e,t){"use strict";function n(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)}function o(){var e,t,n,o;return e=document.documentElement.scrollLeft||document.body.scrollLeft,t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientWidth,o=document.documentElement.clientHeight,{left:e,top:t,width:n,height:o}}function i(){var e,t;return e=document.body.clientHeight,t=document.body.scrollTop,{top:t,height:e}}function s(e,t){var n=HOST+"/api/session/share_weixin_config?url="+encodeURIComponent(window.location.href.split("#")[0]);e.http.get(n).then(function(e){return e.bodyText}).then(function(e){var e=JSON.parse(e);wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]})},function(e){error(e)}),wx.ready(function(){var e=shareData.title,t=shareData.link,n=shareData.imgUrl,o=shareData.desc;wx.onMenuShareTimeline({title:e,link:t,imgUrl:n,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:e,desc:o,link:t,imgUrl:n,type:"link",success:function(){},cancel:function(){}}),wx.onMenuShareQZone({title:e,desc:o,link:t,imgUrl:n,success:function(){},cancel:function(){}}),wx.onMenuShareQQ({title:e,desc:o,link:t,imgUrl:n,success:function(){},cancel:function(){}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.isWeiXin=n,t.getClient=o,t.getBody=i,t.weixinShare=s},6:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Boolean,default:!1},text:String,position:String},created:function(){this.show=this.value},data:function(){return{show:!1}},watch:{value:function(e){this.show=e},show:function(e){this.$emit("input",e)}}}},7:function(e,t){},8:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"vux-mask"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-loading_toast"},[n("div",{staticClass:"weui-mask_transparent"}),e._v(" "),n("div",{staticClass:"weui-toast",style:{position:e.position}},[n("i",{staticClass:"weui-loading weui-icon_toast"}),e._v(" "),n("p",{staticClass:"weui-toast__content"},[e._v(e._s(e.text||"加载中")),e._t("default")],2)])])])},staticRenderFns:[]}},9:function(e,t,n){var o,i;n(7),o=n(6);var s=n(8);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,e.exports=o},11:function(e,t,n){var o,i;n(21);var s=n(25);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,e.exports=o},16:function(e,t,n){var o,i;n(23),o=n(18);var s=n(27);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,e.exports=o},18:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),s=o(i),a=n(43),r=n(47),l=o(r);t.default={components:{InlineDesc:s.default},props:(0,l.default)(),computed:{valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}}},methods:{getLabelStyles:function(){return{width:this.$parent.labelWidth||this.$parent.$parent.labelWidth,textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},onClick:function(){(0,a.go)(this.link,this.$router)}}}},19:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:String}}},20:function(e,t){},21:function(e,t){},23:function(e,t){},24:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.title?n("div",{staticClass:"weui-cells__title",style:{color:e.titleColor},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),n("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:{marginTop:e.gutter}},[e._t("after-title"),e._v(" "),e._t("default")],2)])},staticRenderFns:[]}},25:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"vux-label-desc"},[e._t("default")],2)},staticRenderFns:[]}},27:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent},on:{click:e.onClick}},[n("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),n("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[n("p",[e.title?n("label",{staticClass:"vux-label",style:e.getLabelStyles()},[e._v(e._s(e.title))]):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),n("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),n("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?n("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)},staticRenderFns:[]}},28:function(e,t,n){var o,i;n(20),o=n(19);var s=n(24);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,e.exports=o},31:function(e,t){},32:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"failed",data:function(){return{}},props:{msg:String},components:{},created:function(){},methods:{}}},35:function(e,t){},36:function(e,t,n){e.exports=n.p+"m/static/img/pay_result_failure.dac5b24.png"},37:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"failed"}},[o("img",{attrs:{src:n(36),alt:""}}),e._v(" "),o("p",[e._v(e._s(e.msg))])])},staticRenderFns:[]}},38:function(e,t,n){var o,i;n(35),o=n(32);var s=n(37);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,e.exports=o},297:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(3),n(4);var i=n(5),s=n(2),a=o(s),r=n(38),l=o(r),c=n(1),u=o(c),d=n(9),f=o(d),p=n(10),h=o(p),g=n(28),m=o(g),v=n(16),_=o(v),w=n(34),y=o(w),x=n(33),S=o(x);u.default.use(h.default),t.default={name:"profile",data:function(){return{loadingshow:!1,loadtext:"loading...",showContent:!0,failedshow:!1,failedmsg:"服务请求失败，请刷新重试",myInfo:{user:{photo:""}}}},components:{Group:m.default,Cell:_.default,Loading:f.default,Failed:l.default},beforeCreate:function(){(0,i.isWeiXin)()&&getAuth(S.default,y.default)},created:function(){this.fetchData()},mounted:function(){},methods:{fetchData:function(e){var t=this,n=this;a.default.httpGet(u.default,HOST+"/api/users/my_profile.json",{},function(e){n.loadingshow=!1,n.showContent=!0,0==e.status?t.myInfo=e:console.log(e.error)},function(e){console.log(e),n.loadingshow=!1,n.failedshow=!0}),setTimeout(function(){n.loadingshow=!1},1e4)}}}},394:function(e,t){},471:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"profile"}},[e.showContent?n("div",[n("group",{staticClass:"group"},[n("cell",{attrs:{title:"头像"}},[n("img",{staticClass:"headimg",attrs:{src:e.myInfo.user.photo,alt:""}})]),e._v(" "),n("cell",{attrs:{title:"昵称"}},[e._v(e._s(e.myInfo.user.name))]),e._v(" "),n("cell",{attrs:{title:"性别"}},["M"==e.myInfo.user.gender?n("span",[e._v("男")]):n("span",[e._v("女")])])],1),e._v(" "),n("group",{staticClass:"group"},[e.myInfo.user.has_mobile?n("cell",{attrs:{title:"手机号"}},[e._v(e._s(e.myInfo.user.mobile))]):e._e(),e._v(" "),e.myInfo.user.weixin?n("cell",{attrs:{title:"微信"}},[e._v(e._s(e.myInfo.user.weixin))]):e._e(),e._v(" "),e.myInfo.user.weibo?n("cell",{attrs:{title:"微博"}},[e._v(e._s(e.myInfo.user.weibo))]):e._e()],1)],1):e._e(),e._v(" "),e.failedshow?n("Failed",{attrs:{msg:e.failedmsg}}):e._e(),e._v(" "),n("Loading",{attrs:{text:e.loadtext},model:{value:e.loadingshow,callback:function(t){e.loadingshow=t},expression:"loadingshow"}})],1)},staticRenderFns:[]}},533:function(e,t,n){var o,i;n(394),o=n(297);var s=n(471);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,e.exports=o}});